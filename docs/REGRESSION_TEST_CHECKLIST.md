# BESTO Design Cloud V0.1 — 회귀 테스트 체크리스트

프론트엔드(React)와 백엔드(FastAPI)를 **동시에 실행**한 상태에서 BESTO 플로우 전 구간을 수동으로 검증할 때 사용합니다.

---

## 사전 조건

- **백엔드**: `cd backend && uvicorn app.main:app --reload --host 0.0.0.0 --port 8000` 실행 중 (port 8000)
- **프론트엔드**: 프로젝트 루트에서 `npm start` 실행 중 (port 3000)
- 브라우저: http://localhost:3000 접속

---

## 체크리스트

### 1. 로딩 및 API 연동

| # | 시나리오 | 확인 항목 | 통과 |
|---|----------|----------|:----:|
| 1.1 | 앱 첫 로드 (백엔드 가동 중) | 로딩 화면 후 앱 정상 표시, 콘솔에 Pyscript 오류 없음 | ☐ |
| 1.2 | Validation 화면 | "API" 항목 **Valid** 표시 (GET /api/health 200) | ☐ |
| 1.3 | 앱 첫 로드 (백엔드 중지) | "API: Not connected" 등 안내 표시 | ☐ |

<details>
<summary><strong>1.2 / 1.3 확인 방법</strong></summary>

- **1.2 (API Valid)**  
  백엔드가 켜진 상태에서 http://localhost:3000 접속 → 로딩 후 메인 앱(BESTO 화면)이 뜨면, 이미 GET /api/health가 성공한 상태이므로 **API Valid**로 간주하면 됩니다.  
  (현재 구조상 Validation 패널은 “연결 실패 시”에만 뜨므로, “API: Valid” 문구는 백엔드 켜고 앱이 정상 진입한 것 = Valid로 보면 됩니다.)

- **1.3 (API Not connected)**  
  1) 백엔드를 **완전히 중지**합니다 (uvicorn이 돌고 있는 터미널에서 Ctrl+C).  
  2) 브라우저에서 http://localhost:3000 을 **새로고침**(F5)합니다.  
  3) 로딩이 끝난 뒤 **Validation Check** 패널이 뜨고, 그 안에 **"API: Not connected"** (빨간색)가 보이면 통과입니다.  
  4) 확인 후 백엔드를 다시 실행해 두세요.
</details>

### 2. Search 플로우

| # | 시나리오 | 확인 항목 | 통과 |
|---|----------|----------|:----:|
| 2.1 | Search 실행 (유효한 H형강 입력) | 부재 목록(이웃 H형강) 표시 | ☐ |
| 2.2 | Search 결과 상세 | 각 부재에 대해 설계강도 결과(DetailResult) 표시 | ☐ |
| 2.3 | 섹션 선택 | SectionList에서 부재 선택 시 상세 정보/다이얼로그 동작 | ☐ |

### 3. Design 플로우

| # | 시나리오 | 확인 항목 | 통과 |
|---|----------|----------|:----:|
| 3.1 | Design 다이얼로그에서 값 수정 후 적용 | 선택 부재에 대해 재계산 후 UI 반영 | ☐ |
| 3.2 | Design 결과 확인 | 변경된 설계 결과가 목록/상세에 반영됨 | ☐ |

### 4. 에러·경계

| # | 시나리오 | 확인 항목 | 통과 |
|---|----------|----------|:----:|
| 4.1 | 네트워크 오류(백엔드 중지 후 API 호출) | "연결이 지연되고 있습니다..." 등 사용자 안내 메시지 노출 | ☐ |
| 4.2 | 콘솔 | 치명적(빨간) 에러 없음 (moaui 경고는 제외) | ☐ |

<details>
<summary><strong>4.1 / 4.2 확인 방법</strong></summary>

- **4.1 (네트워크 오류 시 안내 메시지)**  
  1) 백엔드(uvicorn)를 **중지**합니다.  
  2) 브라우저는 **그대로** 두고(탭은 열어 둔 채), 앱에서 **Search** 또는 **Design 적용**처럼 API를 호출하는 동작을 합니다.  
  3) 연결 실패 시 **알림(alert)**으로 **"연결이 지연되고 있습니다. 잠시 후 다시 시도해 주세요."** (또는 비슷한 문구)가 뜨면 통과입니다.  
  4) 확인 후 백엔드를 다시 실행해 두세요.

- **4.2 (콘솔 치명적 에러 없음)**  
  1) 개발자 도구(F12) → **Console** 탭을 엽니다.  
  2) 1.1~3.2까지 진행한 동안 **빨간색 에러**가 한 번도 안 나왔으면 통과입니다.  
  3) `moaui` 관련 경고(노란색 등)는 무시해도 됩니다.
</details>

---

## 검증 완료 시

- 위 표에서 모든 **통과** 칸을 체크한 뒤, Phase 3.2 회귀 테스트 완료로 간주합니다.
- 문제가 있으면 브라우저 콘솔·네트워크 탭과 백엔드 로그를 확인하고, CLOUD_MIGRATION_DEVLOG에 기록합니다.

### 검증 완료 기록

| 일자 | 결과 | 비고 |
|------|------|------|
| 2025-01-29 | 전체 항목(1.1~1.3, 2.1~2.3, 3.1~3.2, 4.1~4.2) 통과 | 이상 없음 |

---

*Phase 3.2 — CLOUD_MIGRATION_IMPLEMENTATION_PLAN 기준*
